=render "shared/header"
%br
- if can? :create, Tournament
  %a{:class=> "btn btn-default" ,:type => "button", "href"=> new_game_tournament_path(params[:game_id], params[:tournament_id])} New Tournament
%h3 Tournaments

%table.table
  %tr
    %th
      Name
    %th
      Number of matches
    %th
      winner
    %th{:colspan => "3"}
      Actions
  - @tournaments.each do |t|

    %tr
      %td= t.name
      %td= t.matches.count
      %td= t.winner
      %td=link_to "Show", game_tournament_path(params[:game_id], t)
      - if can? :update, t     
        %td=link_to "Edit", edit_game_tournament_path(params[:game_id], t)
      %td=link_to "Matches",game_tournament_matches_path(params[:game_id], t)
      - if can? :destroy, t
        %span delete, {class: "glyphicon-class"} 
        %td=link_to "Delete", '#mymodal', "data-toggle": 'modal', class: "link", "data-id": t.id, "game-id": params[:game_id]
= will_paginate @tournaments,renderer: BootstrapPagination::Rails
#mymodal.modal.fade{role:"dialog" }
  .modal-dialog{role:"document"}
    .modal-content
      .modal-header
        .modal-body
          %p Are you sure?
        .modal-footer
        %a{:class=> "btn btn-default" ,id:"yes",:type => "button","data-method": :delete, "href"=> ""} Yes
        %button.btn.btn-primary{:type => "button","data-dismiss": "modal"} No

