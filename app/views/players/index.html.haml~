=render "shared/header"
-if can? :create, Player
  =link_to "Add New Player", new_player_path unless params[:game_id]
  =link_to "Add New Player", new_game_tournament_match_player_path(params[:game_id], params[:tournament_id], params[:match_id]) if params[:tournament_id]
  - if params[:game_id]
    =link_to "Add New Player", new_game_match_player_path(params[:game_id], params[:match_id]) unless params[:tournament_id]
%h3 Players

%table.table
  %tr
    %th
      Name
    %th{:colspan => "3"}
      Actions
  - @players.each do |t|
    %tr
      %td= t.name
      %td= link_to "Show", player_path(t)
      - if can? :update, t
        %td= link_to "Edit", edit_player_path(t)
      -if can? :delete, t
        - if params[:game_id]
          %td=link_to "Delete",'#mymodal', "data-toggle": 'modal', class: "link_player", "data-id": t.id, "game-id": params[:game_id], "tournament-id": params[:tournament_id],"match-id": params[:match_id] if params[:tournament_id]
          %td= link_to "Delete",'#mymodal', "data-toggle": 'modal', class: "link_player", "data-id": t.id, "game-id": params[:game_id], "match-id": params[:match_id] unless params[:tournament_id]
        - else
          %td= link_to "Delete",'#mymodal', "data-toggle": 'modal', class: "link_player", "data-id": t.id 
=will_paginate @players, renderer: BootstrapPagination::Rails
#mymodal.modal.fade{role: "dialog" }
  .modal-dialog{role:"document"}
    .modal-content
      .modal-header
        .modal-body
          %p Are you sure?
        .modal-footer
        -if params[:game_id]
          %a{:class=> "btn btn-default" ,id:"yes1",:type => "button","data-method": :delete, "href"=> ""} Yes if params[:tournament_id] 
          %a{:class=> "btn btn-default" ,id:"yes2",:type => "button","data-method": :delete, "href"=> ""} Yes unless params[:tournament_id] 
        -else
          %a{:class=> "btn btn-default" ,id:"yes3",:type => "button","data-method": :delete, "href"=> ""} Yes
        %button.btn.btn-primary{:type => "button","data-dismiss": "modal"} No

