=render "shared/header"
-if can? :create, Player
  -unless @game
    %a{"href": new_player_path, class: "btn btn-default",style: "background-color: #D14836;"} Add New Player
  - else
    - if @tournament
      %a{"href": new_game_tournament_match_player_path(@game, @tournament, @match),class: "btn btn-default",style: "background-color: #D14836;"} Add New Player
    - else 
      %a{"href": new_game_match_player_path(@game, @match) ,class: "btn btn-default",style: "background-color: #D14836;"} Add New Player
%h3 Players
=will_paginate @players, renderer: BootstrapPagination::Rails
%table.table.table-bordered.table-striped
  %tr
    %th
      Name
    %th{:colspan => "3"}
      Actions
  - @players.each do |t|
    %tr
      %td= t.name
      - if @game
        - if @tournament  
          - if can? :update, t
            %td
              %a{"href": edit_game_tournament_match_player_path(@game, @tournament, @match,t)}
                %span{class: "glyphicon glyphicon-edit", "aria-hidden": "true"}
                Edit
          %td
            %a{"href": game_tournament_match_player_path(@game, @tournament, @match, t)}
              %span{class: "glyphicon glyphicon-file", "aria-hidden": "true"}
              Display
          - if can? :delete, t
            %td
              %a{"href": '#mymodal', "data-toggle": 'modal', class: "link_player", "data-id": t.id, "game-id": @game.id, "tournament-id": @tournament.id,"match-id": @match.id }
                %span{class: "glyphicon glyphicon-trash", "aria-hidden": "true"}
                Delete
        - else
          - if can? :update, t
            %td
              %a{"href": edit_game_match_player_path(@game, @match,t)} 
                %span{class: "glyphicon glyphicon-edit", "aria-hidden": "true"}
                Edit     
          %td
            %a{"href": game_match_player_path(@game, @match, t)}
              %span{class: "glyphicon glyphicon-file", "aria-hidden": "true"}
              Display
          - if can? :delete, t 
            %td
              %a{"href": '#mymodal', "data-toggle": 'modal', class: "link_player", "data-id": t.id, "game-id": @game.id, "match-id": @match.id}
                %span{class: "glyphicon glyphicon-trash", "aria-hidden": "true"}
                Delete
      -else
        - if can? :edit, t
          %td
            %a{"href": edit_player_path(t)}
              %span{class: "glyphicon glyphicon-edit", "aria-hidden": "true"}
              Edit
        %td
          %a{"href": player_path(t)}
            %span{class: "glyphicon glyphicon-file", "aria-hidden": "true"}
            Display
        -if can? :delete, t
          %td
            %a{"href": '#mymodal', "data-toggle": 'modal', class: "link_player", "data-id": t.id}
              %span{class: "glyphicon glyphicon-trash", "aria-hidden": "true"}
              Delete

#mymodal.modal.fade{role: "dialog" }
  .modal-dialog{role:"document"}
    .modal-content
      .modal-header
        .modal-body
          %p Are you sure?
        .modal-footer
        -if @game
          - if @tournament 
            %a{:class=> "btn btn-default" ,id:"yes1",:type => "button","data-method": :delete, "href"=> ""} Yes 
          -else
            %a{:class=> "btn btn-default" ,id:"yes2",:type => "button","data-method": :delete, "href"=> ""} Yes 
        -else
          %a{:class=> "btn btn-default" ,id:"yes3",:type => "button","data-method": :delete, "href"=> ""} Yes
        %button.btn.btn-primary{:type => "button","data-dismiss": "modal"} No

